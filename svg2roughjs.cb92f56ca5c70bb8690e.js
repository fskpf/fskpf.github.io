(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{154:function(t,e,a){"use strict";a.d(e,"a",(function(){return y}));var i=a(50),r=a.n(i),n=a(45),s=a(111);function o(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,a){return e&&u(t.prototype,e),a&&u(t,a),t}var v=a(380),p=function(){function t(e,a){c(this,t),this.$x=e||0,this.$y=a||0}return f(t,[{key:"x",get:function(){return this.$x}},{key:"y",get:function(){return this.$y}}]),f(t,[{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y)}}]),t}(),y=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c(this,t),!e)throw new Error("No target provided");if("object"===h(e)&&"CANVAS"===e.tagName){if("CANVAS"!==e.tagName)throw new Error("Target object is not an HMTLCanvaseElement");this.canvas=e}else if("string"==typeof e){var i=document.querySelector(e);if(!i)throw new Error("No element found with ".concat(e));this.canvas=document.createElement("canvas"),this.canvas.width=i.clientWidth,this.canvas.height=i.clientHeight,i.appendChild(this.canvas)}this.rc=s.a.canvas(this.canvas,a),this.$roughConfig=a,this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.$fontFamily="Comic Sans MS, cursive",this.$randomize=!0}return f(t,[{key:"svg",set:function(t){this.$svg!==t&&(this.$svg=t,t.hasAttribute("width")?this.width=t.width.baseVal.value:t.hasAttribute("viewBox")?this.width=t.viewBox.baseVal.width:this.width=300,t.hasAttribute("height")?this.height=t.height.baseVal.value:t.hasAttribute("viewBox")?this.height=t.viewBox.baseVal.height:this.height=150,this.canvas.width=this.width,this.canvas.height=this.height,this.collectElementsWithID(),this.redraw())},get:function(){return this.$svg}},{key:"roughConfig",set:function(t){this.$roughConfig=t,this.rc=s.a.canvas(this.canvas,t),this.redraw()},get:function(){return this.$roughConfig}},{key:"fontFamily",set:function(t){this.$fontFamily!==t&&(this.$fontFamily=t,this.redraw())},get:function(){return this.$fontFamily}},{key:"randomize",set:function(t){this.$randomize=t,this.redraw()},get:function(){return this.$randomize}},{key:"backgroundColor",set:function(t){this.$backgroundColor=t},get:function(){return this.$backgroundColor}}],[{key:"CONTAINS_UNIT_REGEXP",value:function(){return/[a-z%]/}}]),f(t,[{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}},{key:"redraw",value:function(){this.svg&&(this.clearCanvas(),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height)),this.processRoot(this.svg,null,this.width,this.height))}},{key:"processRoot",value:function(t,e,a,i){var r=[];if("svg"===t.tagName){if(void 0!==a&&void 0!==i&&t.getAttribute("viewBox")){var n=t.viewBox.baseVal,s=n.x,o=n.y,l=n.width,h=n.height,c=t.x.baseVal.value,u=t.y.baseVal.value,f=this.svg.createSVGMatrix().translate(a/l*-s,i/h*-o).translate(c,u).scaleNonUniform(a/l,i/h),v=e?e.matrix.multiply(f):f;e=this.svg.createSVGTransformFromMatrix(v)}for(var p=this.getNodeChildren(t),y=p.length-1;y>=0;y--){var g=p[y],x=e;if(g.transform&&g.transform.baseVal.numberOfItems>0){var d=g.transform.baseVal.consolidate().matrix,m=x?x.matrix.multiply(d):d;x=this.svg.createSVGTransformFromMatrix(m)}r.push({element:g,transform:x})}}else r.push({element:t,transform:e});for(;r.length>0;){var b=r.pop(),w=b.element,k=b.transform;if(this.drawElement(w,k),"defs"!==w.tagName&&"svg"!==w.tagName)for(var M=this.getNodeChildren(w),A=M.length-1;A>=0;A--){var S=M[A],C=k;if(S.transform&&S.transform.baseVal.numberOfItems>0){var V=S.transform.baseVal.consolidate().matrix,E=k?k.matrix.multiply(V):V;C=this.svg.createSVGTransformFromMatrix(E)}r.push({element:S,transform:C})}}}},{key:"collectElementsWithID",value:function(){this.defs={};var t,e=o(Array.prototype.slice.apply(this.svg.querySelectorAll("*[id]")));try{for(e.s();!(t=e.n()).done;){var a=t.value,i=a.getAttribute("id");i&&(this.defs[i]=a)}}catch(t){e.e(t)}finally{e.f()}}},{key:"applyMatrix",value:function(t,e){if(!e)return t;var a=e.matrix,i=a.a*t.x+a.c*t.y+a.e,r=a.b*t.x+a.d*t.y+a.f;return new p(i,r)}},{key:"getRandomNumber",value:function(t,e){return Math.random()*(e-t)+t}},{key:"getStopOffset",value:function(t){var e=t.getAttribute("offset");return e?e.indexOf("%")?parseFloat(e.substring(0,e.length-1)):100*parseFloat(e):0}},{key:"getStopColor",value:function(t){var e=t.getAttribute("stop-color");if(!e){var a=t.getAttribute("style"),i=/stop-color:\s?(.*);?/.exec(a);i.length>1&&(e=i[1])}return e?r()(e):r()("white")}},{key:"gradientToColor",value:function(t,e){var a=this,i=Array.prototype.slice.apply(t.querySelectorAll("stop"));if(0===i.length)return"transparent";if(1===i.length){var n=this.getStopColor(stop);return n.setAlpha(e),n.toString()}var s=i.reduce((function(t,e){var i=a.getStopColor(e),n=a.getStopOffset(e);return r.a.mix(t,i,n)}));return s.setAlpha(e),s.toString()}},{key:"parseFillUrl",value:function(t,e){var a=/url\('#?(.*?)'\)/.exec(t)||/url\("#?(.*?)"\)/.exec(t)||/url\(#?(.*?)\)/.exec(t);if(a&&a.length>1){var i=a[1],r=this.defs[i];if(r){if("string"==typeof r)return r;if("linearGradient"===r.tagName||"radialGradient"===r.tagName){var n=this.gradientToColor(r,e);return this.defs[i]=n,n}}}return"transparent"}},{key:"getOpacity",value:function(t,e){var a=t.getAttribute(e);return a?-1!==a.indexOf("%")?parseFloat(a.substring(0,a.length-1))/100:parseFloat(a):1}},{key:"getEffectiveAttribute",value:function(t,e){var a=getComputedStyle(t)[e]||t.getAttribute(e);if(!a){var i=t.parentElement;return i?this.getEffectiveAttribute(i,e):null}return a}},{key:"convertToPixelUnit",value:function(e){return null!==e.match(t.CONTAINS_UNIT_REGEXP)?v.convert("px",e,this.$svg):parseFloat(e)}},{key:"parseStyleConfig",value:function(t,e){var a=this,i=Object.assign({},this.$roughConfig),n=this.getEffectiveAttribute(t,"fill")||"black",s=this.getOpacity(t,"fill-opacity");if(n)if(-1!==n.indexOf("url"))i.fill=this.parseFillUrl(n,s);else if("none"===n)delete i.fill;else{var o=r()(n);o.setAlpha(s),i.fill=o.toString()}var l=this.getEffectiveAttribute(t,"stroke"),h=this.getOpacity(t,"stroke-opacity");if(l)if(-1!==l.indexOf("url"))i.stroke=this.parseFillUrl(n,h);else if("none"===l)i.stroke="none";else{var c=r()(l);c.setAlpha(h),i.stroke=c.toString()}else i.stroke="none";var u=this.getEffectiveAttribute(t,"stroke-width");if(u){if(u=this.convertToPixelUnit(u),e&&"none"!==l)u*=(e.matrix.a+e.matrix.d)/2;i.strokeWidth=u}else i.strokeWidth=0;var f=this.getEffectiveAttribute(t,"stroke-dasharray");f&&"none"!==f&&(f=f.split(/[\s,]+/).filter((function(t){return t.length>0})).map((function(t){return a.convertToPixelUnit(t)})),i.strokeLineDash=f);var v=this.getEffectiveAttribute(t,"stroke-dashoffset");return v&&(v=this.convertToPixelUnit(v),i.strokeLineDashOffset=v),i.fill&&"none"===i.stroke&&(i.stroke=i.fill,i.strokeWidth=1),this.randomize&&(i.fillWeight=this.getRandomNumber(.5,3),i.hachureAngle=this.getRandomNumber(-30,-50),i.hachureGap=this.getRandomNumber(3,5),void 0===i.disableMultiStroke&&(i.disableMultiStroke=Math.random()>.3)),i}},{key:"drawElement",value:function(t,e){switch(t.tagName){case"svg":var a,i;t.getAttribute("width")&&t.getAttribute("height")&&(a=t.width.baseVal.value,i=t.height.baseVal.value),this.processRoot(t,e,a,i);break;case"rect":this.drawRect(t,e);break;case"path":this.drawPath(t,e);break;case"use":this.drawUse(t,e);break;case"line":this.drawLine(t,e);break;case"circle":this.drawCircle(t,e);break;case"ellipse":this.drawEllipse(t,e);break;case"polyline":this.drawPolyline(t,e);break;case"polygon":this.drawPolygon(t,e);break;case"text":this.drawText(t,e);break;case"image":this.drawImage(t,e)}}},{key:"drawPolyline",value:function(t,e){var a=this,i=this.getPointsArray(t).map((function(t){var i=a.applyMatrix(t,e);return[i.x,i.y]})),r=this.parseStyleConfig(t,e);if(r.fill&&"none"!==r.fill){var n=Object.assign({},r);n.stroke="none",this.rc.polygon(i,n)}this.rc.linearPath(i,r)}},{key:"getPointsArray",value:function(t){var e=t.getAttribute("points");if(!e)return[];var a=e.split(" "),i=[];return a.forEach((function(t){var e=t.split(",");2===e.length&&i.push(new p(parseFloat(e[0]),parseFloat(e[1])))})),i}},{key:"drawPolygon",value:function(t,e){var a=this,i=this.getPointsArray(t).map((function(t){var i=a.applyMatrix(t,e);return[i.x,i.y]}));this.rc.polygon(i,this.parseStyleConfig(t,e))}},{key:"drawEllipse",value:function(t,e){var a=t.cx.baseVal.value,i=t.cy.baseVal.value,r=t.rx.baseVal.value,n=t.ry.baseVal.value;if(0!==r&&0!==n)if(null===e){var s=this.applyMatrix(new p(a,i),e),o=this.applyMatrix(new p(a+r,i+n),e),l=2*(o.x-s.x),h=2*(o.y-s.y);this.rc.ellipse(s.x,s.y,l,h,this.parseStyleConfig(t,e))}else{var c=4/3*(Math.sqrt(2)-1),u=this.applyMatrix(new p(a+r,i),e),f=this.applyMatrix(new p(a,i+n),e),v=this.applyMatrix(new p(a-r,i),e),y=this.applyMatrix(new p(a,i-n),e),g=this.applyMatrix(new p(a+r,i+c*n),e),x=this.applyMatrix(new p(a+c*r,i+n),e),d=this.applyMatrix(new p(a-r,i+c*n),e),m=this.applyMatrix(new p(a-c*r,i-n),e),b=this.applyMatrix(new p(a+r,i-c*n),e),w="M ".concat(u," C ").concat(g," ").concat(x," ").concat(f," S ").concat(d," ").concat(v," S ").concat(m," ").concat(y," S ").concat(b," ").concat(u,"z");this.rc.path(w,this.parseStyleConfig(t,e))}}},{key:"drawCircle",value:function(t,e){var a=t.cx.baseVal.value,i=t.cy.baseVal.value,r=t.r.baseVal.value;if(0!==r){var n=this.applyMatrix(new p(a,i),e);if(null===e){var s=2*(this.applyMatrix(new p(a+r,i+r),e).x-n.x);this.rc.circle(n.x,n.y,s,this.parseStyleConfig(t,e))}else{var o=4/3*(Math.sqrt(2)-1),l=this.applyMatrix(new p(a+r,i),e),h=this.applyMatrix(new p(a,i+r),e),c=this.applyMatrix(new p(a-r,i),e),u=this.applyMatrix(new p(a,i-r),e),f=this.applyMatrix(new p(a+r,i+o*r),e),v=this.applyMatrix(new p(a+o*r,i+r),e),y=this.applyMatrix(new p(a-r,i+o*r),e),g=this.applyMatrix(new p(a-o*r,i-r),e),x=this.applyMatrix(new p(a+r,i-o*r),e),d="M ".concat(l," C ").concat(f," ").concat(v," ").concat(h," S ").concat(y," ").concat(c," S ").concat(g," ").concat(u," S ").concat(x," ").concat(l,"z");this.rc.path(d,this.parseStyleConfig(t,e))}}}},{key:"drawLine",value:function(t,e){var a=this.applyMatrix(new p(t.x1.baseVal.value,t.y1.baseVal.value),e),i=this.applyMatrix(new p(t.x2.baseVal.value,t.y2.baseVal.value),e);a.x===i.x&&a.y===i.y||this.rc.line(a.x,a.y,i.x,i.y,this.parseStyleConfig(t,e))}},{key:"drawUse",value:function(t,e){var a=t.href.baseVal;a.startsWith("#")&&(a=a.substring(1));var i=this.defs[a];if(i){var r,n;t.getAttribute("width")&&t.getAttribute("height")&&(r=t.width.baseVal.value,n=t.height.baseVal.value);var s=t.x.baseVal.value,o=t.y.baseVal.value,l=this.svg.createSVGMatrix().translate(s,o);l=e?e.matrix.multiply(l):l,this.processRoot(i,this.svg.createSVGTransformFromMatrix(l),r,n)}}},{key:"drawPath",value:function(t,e){var a=t.getAttribute("d"),i=new n.a(a).toAbs().transform(n.b.NORMALIZE_HVZ()).transform(n.b.NORMALIZE_ST()).transform(n.b.A_TO_C());e&&(i=i.transform(n.b.MATRIX(e.matrix.a,e.matrix.b,e.matrix.c,e.matrix.d,e.matrix.e,e.matrix.f)));var r=Object(n.c)(i.commands);-1===r.indexOf("undefined")?this.rc.path(r,this.parseStyleConfig(t,e)):console.error("broken path data")}},{key:"drawRect",value:function(t,e){var a=t.x.baseVal.value,i=t.y.baseVal.value,r=t.width.baseVal.value,n=t.height.baseVal.value;if(0!==r&&0!==n){var s=t.hasAttribute("rx")?t.rx.baseVal.value:null,o=t.hasAttribute("ry")?t.ry.baseVal.value:null;if(s||o){s<0&&(s=0),o<0&&(o=0),null===s&&(s=o),null===o&&(o=s),s=Math.min(s,r/2),o=Math.min(o,n/2);var l="";if(s||o){var h=4/3*(Math.sqrt(2)-1),c=this.applyMatrix(new p(a+s,i),e);l+="M ".concat(c);var u=this.applyMatrix(new p(a+r-s,i),e);l+="L ".concat(u);var f=this.applyMatrix(new p(a+r-s+h*s,i),e),v=this.applyMatrix(new p(a+r,i+h*o),e),y=this.applyMatrix(new p(a+r,i+o),e);l+="C ".concat(f," ").concat(v," ").concat(y);var g=this.applyMatrix(new p(a+r,i+n-o),e);l+="L ".concat(g);var x=this.applyMatrix(new p(a+r,i+n-o+h*o),e),d=this.applyMatrix(new p(a+r-h*s,i+n),e),m=this.applyMatrix(new p(a+r-s,i+n),e);l+="C ".concat(x," ").concat(d," ").concat(m);var b=this.applyMatrix(new p(a+s,i+n),e);l+="L ".concat(b);var w=this.applyMatrix(new p(a+s-h*s,i+n),e),k=this.applyMatrix(new p(a,i+n-h*o),e),M=this.applyMatrix(new p(a,i+n-o),e);l+="C ".concat(w," ").concat(k," ").concat(M);var A=this.applyMatrix(new p(a,i+o),e);l+="L ".concat(A);var S=this.applyMatrix(new p(a,i+h*o),e),C=this.applyMatrix(new p(a+h*s,i),e);l+="C ".concat(S," ").concat(C," ").concat(c),l+="z"}else l+="M ".concat(this.applyMatrix(new p(a,i),e)),l+="L ".concat(this.applyMatrix(new p(a+r,i),e)),l+="L ".concat(this.applyMatrix(new p(a+r,i+n),e)),l+="L ".concat(this.applyMatrix(new p(a,i+n),e)),l+="z";this.ctx.save(),this.ctx.lineCap="square",this.rc.path(l,this.parseStyleConfig(t,e)),this.ctx.restore()}else{var V=this.applyMatrix(new p(a,i),e),E=this.applyMatrix(new p(a+r,i+n),e);this.rc.rectangle(V.x,V.y,E.x-V.x,E.y-V.y,this.parseStyleConfig(t,e))}}}},{key:"drawImage",value:function(t,e){var a,i,r=this,n=t.href.baseVal,s=t.x.baseVal.value,o=t.y.baseVal.value;if(t.getAttribute("width")&&t.getAttribute("height")&&(a=t.width.baseVal.value,i=t.height.baseVal.value),n.startsWith("data:")&&-1!==n.indexOf("image/svg+xml")){var l=/^data:([^,]*),(.*)/.exec(n);if(l.length>2){var h=l[1],c=l[2],u=-1!==h.indexOf("base64"),f=-1!==h.indexOf("utf8");u&&(c=btoa(c)),f||(c=decodeURIComponent(c));var v=(new DOMParser).parseFromString(c,"image/svg+xml").firstElementChild,p=this.svg.createSVGMatrix().translate(s,o);return p=e?e.matrix.multiply(p):p,void this.processRoot(v,this.svg.createSVGTransformFromMatrix(p),a,i)}}else{var y=new Image,g=this.svg.createSVGMatrix().translate(s,o),x=(g=e?e.matrix.multiply(g):g).e,d=g.f;y.onload=function(){r.ctx.drawImage(y,x,d)},y.src=n}}},{key:"drawText",value:function(t,e){this.ctx.save();var a=new p(this.getLengthInPx(t.x),this.getLengthInPx(t.y));this.ctx.font=this.getCssFont(t,e);var i=this.parseStyleConfig(t,e);i.fill&&(this.ctx.fillStyle=i.fill);var r=this.getEffectiveAttribute(t,"text-anchor");if(r&&(this.ctx.textAlign="middle"!==r?r:"center"),e){var n=e.matrix;this.ctx.setTransform(n.a,n.b,n.c,n.d,n.e,n.f)}var s=this.getLengthInPx(t.dx),o=this.getLengthInPx(t.dy);if(this.ctx.translate(s,o),0===t.childElementCount)this.ctx.fillText(this.getTextContent(t),a.x,a.y,t.getBBox().width);else for(var l=this.getNodeChildren(t),h=0;h<l.length;h++){var c=l[h];if("tspan"===c.tagName){a=new p(this.getLengthInPx(c.x),this.getLengthInPx(c.y));var u=this.getLengthInPx(c.dx),f=this.getLengthInPx(c.dy);this.ctx.translate(u,f),this.ctx.fillText(this.getTextContent(c),a.x,a.y)}}this.ctx.restore()}},{key:"getTextContent",value:function(t){var e=t.textContent;return e=this.shouldNormalizeWhitespace(t)?e.replace(/[\n\r\t ]+/g," ").trim():e.replace(/\r\n|[\n\r\t]/g," ")}},{key:"shouldNormalizeWhitespace",value:function(t){for(var e=null;null!==t&&t!==window.document&&null===e;)null===(e=t.getAttribute("xml:space"))&&(t=t.parentNode);return"preserve"!==e}},{key:"getLengthInPx",value:function(t){return t&&t.baseVal.numberOfItems>0?t.baseVal.getItem(0).value:0}},{key:"getCssFont",value:function(t,e){var a="",i=this.getEffectiveAttribute(t,"font-style");i&&(a+=i);var r=this.getEffectiveAttribute(t,"font-weight");r&&(a+=" ".concat(r));var n=this.getEffectiveAttribute(t,"font-size");if(n&&(a+=" ".concat(n)),this.fontFamily)a+=" ".concat(this.fontFamily);else{var s=this.getEffectiveAttribute(t,"font-family");s&&(a+=" ".concat(s))}return a=a.trim()}},{key:"getNodeChildren",value:function(t){if(void 0!==t.children)return t.children;for(var e,a=0,i=t.childNodes,r=[];e=i[a++];)1===e.nodeType&&r.push(e);return r}}]),t}()}}]);